group 'net.qaleo.gebspockex'
version '1.0-SNAPSHOT'

apply plugin: 'groovy'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile "org.gebish:geb-spock:2.0"
    testCompile 'org.spockframework:spock-core:1.1-groovy-2.4'
    testCompile "org.seleniumhq.selenium:selenium-chrome-driver:3.8.1"
    testCompile "org.seleniumhq.selenium:selenium-support:3.8.1"
}

task browse(type: Test) {
    group JavaBasePlugin.VERIFICATION_GROUP
    outputs.upToDateWhen { false }  // Always run tests

    def prop = System.getProperty('geb.env')
    if (prop !="") {
        systemProperty "geb.env", prop
    } else {
        systemProperty "geb.env", "chrome"
    }
}

task collectJars(type: Copy) {
    into "$buildDir/output/lib"
    from configurations.testRuntime
}

